@using Apolo.Core.Model
@using Apolo.Core.Model.Treatment
@using Apolo.Core.Model.Security
@{ 
    User patient = Session[Constants.SESSION_USER] as User;
    WorkUnit workUnit = Model.WorkUnit as WorkUnit;
}
<div class="card horizontal">
    <div class="card-image">
        <img src="@Url.Action("GameAvatar", "Util", new { gameName = workUnit.Game, area = "" })" width="90" height="190">
    </div>
    <div class="card-stacked">
        <div class="card-content">
            <span class="card-title">
                @workUnit.Game
                @if (workUnit.IsFinished)
                {
                    <span class="new badge green" data-badge-caption="Completado!">&nbsp;</span>
                }
                else
                {
                    <span class="new badge red" data-badge-caption="Por completar">&nbsp;</span>
                }
            </span>
            @if (!workUnit.IsFinished)
            {
                <div class="row">
                    <p><strong style="font-weight: bold;">Tiempo de Juego</strong></p>
                    <p> @workUnit.DurationInMinutes minutos</p>
                </div>
            }
        </div>
        @if (!workUnit.IsFinished)
        {
            <div class="card-action">
                <a href="@Url.Action("PlayWorkUnit", "Home", new { area = Constants.Areas.PATIENT, patientId = patient.ID, workUnitId = workUnit.ID })">Click aquí para jugar</a>
            </div>
        }
    </div>
</div>